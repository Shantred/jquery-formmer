!function(r){function t(t){null!=r(t).attr("action")&&n.push(r(t).attr("action")),r(t).on("submit",function(a){return r(t).hasClass("formmer-processing")?(a.stopImmediatePropagation(),!1):(o(r(t)),!1)})}var a="Please Wait",n=[];r.each(r("form.formmer"),function(r,a){t(a)}),r.fn.formmer=function(a){var e=r.extend({},{enableOnError:!0,enableOnSucces:!1,watchURL:null},a);return this.each(function(){t(r(this)),r(this).addClass("formmer").attr("data-enableonerror",e.enableOnError).attr("data-enableonsuccess",e.enableOnSuccess),e.watchURL&&(n.push(e.watchURL),r(this).attr("data-watchurl",e.watchURL))}),this};var e=function(r,t){r.removeClass("formmer-processing");var a=r.find("button[type=submit]");a&&(t?r.attr("data-enableonerror")?"true"==r.attr("data-enableonerror")&&s(a):s(a):r.attr("data-enableonsuccess")&&"true"===r.attr("data-enableonsuccess")&&s(a))},o=function(r){r.addClass("formmer-processing");var t=r.find("button[type=submit]");t&&c(t)},s=function(r){r.html(r.attr("data-originalhtml")).prop("disabled",!1).removeAttr("data-originalhtml")},c=function(r){r.attr("data-loadinghtml")?r.attr("data-originalhtml",r.html()).html(r.attr("data-loadinghtml")).prop("disabled",!0):r.attr("data-originalhtml",r.html()).html(a).prop("disabled",!0)};r.ajaxPrefilter(function(t,a,o){if(n.indexOf(t.url)>-1){var s=r("form.formmer[action='"+t.url+"']");0===s.length&&(s=r("form.formmer[data-watchurl='"+t.url+"']")),t.hasOwnProperty("success")?t.success.constructor===Array?t.success.push(function(){e(s,!1)}):t.success=[t.success,function(){e(s,!1)}]:t.success=function(){e(s,!1)},t.hasOwnProperty("error")?t.error.constructor===Array?t.error.push(function(){e(s,!0)}):t.error=[t.error,function(){e(s,!0)}]:t.error=function(){e(s,!0)}}})}(jQuery);