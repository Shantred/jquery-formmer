!function(t,e,s,a){function n(e,s,a){return this.element=e,this.settings=t.extend({},r,s),this._defaults=r,this._name=i,"string"!=typeof s?(this.init(),this):void("function"==typeof this[s]&&this[s](a))}var i="formmer",r={enableOnError:!0,enableOnSucces:!1,watchURL:null,disableFormInputs:!1,disableAjax:!1,enabledCallback:null,disabledCallback:null,ajaxOnSuccess:null,ajaxOnError:null,loadingHTML:"Please Wait"};t.extend(n.prototype,{init:function(){this.bindFormSubmission(this.element),this.getDataSettings(this.element)},bindFormSubmission:function(e){t(e).addClass("formmer").attr("data-formmerid",t("[data-formmerid]").length+1),null!=t(e).attr("action")&&formmerUrls.push(t(e).attr("action")),t(e).on("submit",null,{formmer:this},function(s){return t(e).hasClass("formmer-processing")?(s.stopImmediatePropagation(),!1):(s.data.formmer.disableSubmission(),!1)})},getDataSettings:function(){this.element[0].hasAttribute("data-enableonsuccess")&&"true"===this.element.attr("data-enableonsuccess").toLowerCase()&&(this.settings.enableOnSuccess=!0),this.element[0].hasAttribute("data-enableonerror")&&"false"===this.element.attr("data-enableonerror").toLowerCase()&&(this.settings.enableOnError=!1),this.element[0].hasAttribute("data-watchurl")?this.settings.watchURL=this.element.attr("data-watchurl"):this.settings.watchURL&&this.element.attr("data-watchurl",this.settings.watchURL),this.element[0].hasAttribute("data-disableajax")&&"true"===this.element.attr("data-disableajax").toLowerCase()&&(this.settings.disableAjax=!0),this.element[0].hasAttribute("data-disableforminputs")&&"true"===this.element.attr("data-disableforminputs").toLowerCase()&&(this.settings.disableFormInputs=!0)},enableSubmission:function(e){e?(this.settings.enableOnError===!0?(this.settings.disableFormInputs===!0&&t(this.element).children("input, textarea, select").prop("disabled",!1),t(this.element).removeClass("formmer-processing"),this.enableFormButton()):(this.settings.disableFormInputs===!0&&t(this.element).children("input, textarea, select").prop("disabled",!1),t(this.element).removeClass("formmer-processing"),this.enableFormButton()),this.settings.ajaxOnError&&this.settings.ajaxOnError.call(this)):(this.settings.enableOnSuccess===!0&&(this.settings.disableFormInputs===!0&&t(this.element).children("input, textarea, select").prop("disabled",!1),t(this.element).removeClass("formmer-processing"),this.enableFormButton()),this.settings.ajaxOnSuccess&&this.settings.ajaxOnError.call(this))},disableSubmission:function(){t(this.element).addClass("formmer-processing"),this.settings.disableFormInputs===!0&&t(this.element).children("input, textarea, select").prop("disabled",!0),this.disableFormButton()},enableFormButton:function(){var e=t(this.element).find("button[type=submit]");e&&this.enableButton(e)},disableFormButton:function(){var e=t(this.element).find("button[type=submit]");e&&this.disableButton(e)},enableButton:function(t){t.html(t.attr("data-originalhtml")).prop("disabled",!1).removeAttr("data-originalhtml"),this.settings.enabledCallback&&this.settings.enabledCallback.call(this,this.element,t)},disableButton:function(t){t.attr("data-loadinghtml")?t.attr("data-originalhtml",t.html()).html(t.attr("data-loadinghtml")).prop("disabled",!0):t.attr("data-originalhtml",t.html()).html(this.settings.loadingHTML).prop("disabled",!0),this.settings.disabledCallback&&this.settings.disabledCallback.call(this,this.element,t)}}),t.fn[i]=function(e,a){return"string"==typeof e?new n(this,e,a):(t.data(s,i+"-"+(t("[data-formmerid]").length+1),new n(this,e)),t.data(s,i+"-"+ +(t("[data-formmerid]").length+1)))},t.each(t("form.formmer:not([data-formmerid])"),function(e,s){t(s).formmer()}),t.ajaxPrefilter(function(e,a,n){var r=t("form.formmer[data-watchurl='"+e.url+"']:not([data-disableajax=true])");if(0===r.length&&(r=t("form.formmer[action='"+e.url+"']:not([data-disableajax=true])")),r.length){var l=t.data(s,i+"-"+r.attr("data-formmerid"));e.hasOwnProperty("success")?e.success.constructor===Array?e.success.push(function(){l.enableSubmission(!1)}):e.success=[e.success,function(){l.enableSubmission(!1)}]:e.success=function(){l.enableSubmission(!1)},e.hasOwnProperty("error")?e.error.constructor===Array?e.error.push(function(){l.enableSubmission(!0)}):e.error=[e.error,function(){l.enableSubmission(!0)}]:e.error=function(){l.enableSubmission(!0)}}})}(jQuery,window,document);